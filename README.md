Java的线程池有四个拒绝策略：

- AbortPolicy
- DiscardPolicy
- DiscardOldestPolicy
- CallerRunsPolicy

无论是哪一种的拒绝策略，都有着自己的缺点。

如果任务是有状态的话，丢弃线程，可能会造成重要的数据丢失。

因此jdk提供的四种拒绝策略，有些情况下并不能满足需求。

对待这种有状态的任务，正确的姿势应该是使用MQ做异步，同时确保消息幂等性。

如果系统内没有使用MQ，那么就需要自定义拒绝策略 ：将有状态的任务持久化【到数据库或者Redis、文件】，等待线程池空闲时再执行。

